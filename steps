<div class="modal">
    <div class="modal-body">
        <div class="box">
            <h2 class="text-center p-30">Extra Discount Settings</h2>
            <a href="#" class="modal-close"><i class="icon-close"></i></a>
        </div>
        <div class="box p-l-30 p-r-30">
            <div class="row flex-form">
                <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
                    <h4>Order Channels</h4>
                    <p>You can apply your discount for certain order channels.</p>
                </div>
                <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
                    <h5 class="m-b-10">Applicable To</h5>
                    <div class="form-group m-b-10">
                        <input type="radio" class="classic" name="applicable_to" checked id="applicable_to_all_order">
                        <label for="applicable_to_all_order">All Order Types, Order Source, Payment Methods</label>
                    </div>
                    <div class="form-group">
                        <input type="radio" class="classic" name="applicable_to" id="applicable_to_manually">
                        <label for="applicable_to_manually">I want to select manually</label>
                    </div>
                </div>
                <div class="row">
                    
                    @php 
                        $orderChannels = isset($data['order_channels']) ? $data['order_channels'] : "";
                        $orderChannelsArray = explode(",",$orderChannels);

                        $orderTypes = isset($data['order_types']) ? $data['order_types'] : "";
                        $orderTypesArray = explode(",",$orderTypes);

                        $paymentMethods = isset($data['payment_methods']) ? $data['payment_methods'] : "";
                        $paymentMethodsArray = [];
                        
                        if (gettype($paymentMethods) == 'string') { 
                            $paymentMethodsArray = explode(",", $paymentMethods);
                        }
                           
                    @endphp

                    <div class="col-lg-4 col-md-4 col-sm-4 col-xs-4 side-bar-checkbox-div m-t-30">
                        <div class="form-group m-b-10 side-bar-checkbox">
                            <input type="checkbox" class="classic"
                            @if (in_array("Delivery",$orderTypesArray)) checked @endif
                            id="Delivery" name="order_types[]" value="delivery">
                            <label for="Delivery">Delivery</label>
                        </div>
                        <div class="form-group m-b-10 side-bar-checkbox">
                            <input type="checkbox" class="classic" 
                            @if (in_array("Pickup",$orderTypesArray)) checked @endif
                            id="Pickup" name="order_types[]" value="pickup">
                            <label for="Pickup">Pickup</label>
                        </div>
                        <div class="form-group m-b-10 side-bar-checkbox">
                            <input type="checkbox" 
                            @if (in_array("Curbside",$orderTypesArray)) checked @endif
                            class="classic" id="Curbside" name="order_types[]" value="curbside">
                            <label for="Curbside">Curbside</label>
                        </div>
                        <div class="form-group m-b-10 side-bar-checkbox">
                            <input type="checkbox" 
                            @if (in_array("From Table",$orderTypesArray)) checked @endif
                            class="classic" id="From Table" name="order_types[]"
                                value="from_table">
                            <label for="From Table">From Table</label>
                        </div>
                    </div>

                    <div class="col-lg-4 col-md-4 col-sm-4 col-xs-4 side-bar-checkbox-div m-t-30">
                        <div class="form-group m-b-10 side-bar-checkbox">
                            <input type="checkbox" class="classic" 
                            @if (in_array("Web",$orderChannelsArray)) checked @endif
                            id="Web" name="order_channels[]" value="web">
                            <label for="Web">Web</label>
                        </div>
                        <div class="form-group m-b-10 side-bar-checkbox">
                            <input type="checkbox" class="classic" 
                            @if (in_array("IOS App",$orderChannelsArray)) checked @endif
                            id="IOS App" name="order_channels[]" value="ios_app">
                            <label for="IOS App">IOS App</label>
                        </div>
                        <div class="form-group m-b-10 side-bar-checkbox">
                            <input type="checkbox" class="classic" 
                            @if (in_array("Android App",$orderChannelsArray)) checked @endif
                            id="Android App" name="order_channels[]"
                                value="android_app">
                            <label for="Android App">Android App</label>
                        </div>
                    </div>

                    <div class="col-lg-4 col-md-4 col-sm-4 col-xs-4 side-bar-checkbox-div m-t-30">

                        @foreach ($payment_method as $key => $value)
                            <div class="form-group m-b-10 side-bar-checkbox">
                                <input type="checkbox" class="classic" id="{{ $value['method_name'] }}"
                                @if (in_array($value['payment_method_code'], $paymentMethodsArray)) checked @endif
                                    name="payment_method[]" value="{{ $value['payment_method_code'] }}">
                                <label for="{{ $value['method_name'] }}">{{ $value['method_name'] }}</label>
                            </div>
                        @endforeach
                    </div>
                </div>
                <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12 side-bar-checkbox-div m-t-10">
                    <div class="cross-sell-up-border-bottom w-full"></div>
                </div>
                <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
                    <h5 class="m-b-10">Customer Settings</h5>
                    <p class="m-b-20">You can apply your discount for certain customers.</p>
                    <div class="radio-box">
                        <div class="form-group m-b-10">
                            <input type="radio" class="classic" name="applicable_users" checked id="all_users"
                            @if (isset($data['applicable_users']) && $data['applicable_users'] == 0) checked @endif
                                value="0">
                            <label for="all_users">All Users</label>
                        </div>
                        <div class="form-group m-b-10">
                            <input type="radio" class="classic" name="applicable_users" id="first_time_users" 
                            @if (isset($data['applicable_users']) && $data['applicable_users'] == 1) checked @endif
                            value="1">
                            <label for="first_time_users">First Time Users</label>
                        </div>
                        <div class="form-group m-b-10">
                            <input type="radio" class="classic" name="applicable_users" id="custom_users" 
                            @if (isset($data['applicable_users']) && $data['applicable_users'] == 2) checked @endif
                            value="2">
                            <label for="custom_users">Custom Users</label>
                        </div>
                    </div>
                </div>
                <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
                    <div class="row">
                        <div class="col-lg-4 col-md-4 col-sm-4 col-xs-4">
                            <div class="form-control">
                                <select class="form-select" aria-label="Default select example"
                                    name="applicable_customer_user_type" id="total_order_over">
                                    <option @if (isset($data['applicable_customer_user_type']) && $data['applicable_customer_user_type'] == 0) selected=""  @endif value="0" >Over Total Order</option>
                                    <option @if (isset($data['applicable_customer_user_type']) && $data['applicable_customer_user_type'] == 1) selected=""  @endif value="1">Over Total Order Amount</option>
                                </select>
                                <small class="error-message"></small>
                            </div>
                        </div>
                        <div class="col-lg-1 col-md-1 col-sm-1 col-xs-1"></div>
                        <div class="col-lg-4 col-md-4 col-sm-4 col-xs-4">
                            <div class="form-control">
                                <div class="input-group">
                                    <input type="text" placeholder="orders" name="applicable_customer_user_amount" id="applicable_customer_user_amount"
                                    value="{{ old('applicable_customer_user_amount', isset($data['applicable_customer_user_amount']) ? $data['applicable_customer_user_amount'] : null) }}"
                                        class="form-control">
                                    <small class="error-message"></small>
                                </div>
                            </div>
                        </div>
                        <div class="cross-sell-up-border-bottom w-full m-t-30"></div>
                    </div>
                </div>
                <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">

                    <h5 class="m-b-10">Category Settings</h5>
                    <p class="m-b-20">You can apply your loyalty program for certain categories or items.</p>
                    <div class="radio-box">
                        <div class="form-group m-b-10">
                            <input type="radio" class="classic" 
                            @if (isset($data['applicable_type']) && $data['applicable_type'] == 0) checked @endif
                            name="applicable_type" id="category_level" checked
                            onclick="changeApplicableType(0)"
                                value="0">
                            <label for="category_level">Category Level</label>
                        </div>
                        <div class="form-group m-b-10">
                            <input type="radio" class="classic" 
                            onclick="changeApplicableType(1)"
                            @if (isset($data['applicable_type']) && $data['applicable_type'] == 1) checked @endif
                            name="applicable_type" id="item_level" value="1">
                            <label for="item_level">Item Level</label>
                        </div>

                    </div>
                    <div class="cross-sell-up-border-bottom w-full m-t-10  m-b-20"></div>
                    <div class="radio-box">
                        <div class="form-group m-b-10">
                            <input type="radio" class="classic" name="applicable_type_category" 
                            @if (isset($data['applicable_type_category']) && $data['applicable_type_category'] == 2) checked @endif
                            id="all_items"
                            >
                            <label for="all_items">All Items</label>
                        </div>
                        <div class="form-group m-b-10">
                            <input type="radio" class="classic" name="applicable_type_category" 
                            @if (isset($data['applicable_type_category']) && $data['applicable_type_category'] == 1) checked @endif
                            id="certain_items"
                            >
                            <label for="certain_items">Certain Items</label>
                        </div>

                    </div>
                    <div class="form-control m-t-20 m-b-10">
                        
                        <div class="select-item-list--single">
                            <label>Applicable Items</label>
                            
                            <div class="directorist-select directorist-select-multi" id="multiSelect" data-isSearch="true"> 
                                <select name="mySelect">
                                    {{-- {{-- <option value="">Select Item</option> --}}
                                    {{-- <option value="steakhouse">Steakhouse</option>
                                    <option value="2 steakhouse">2 Steakhouse</option>
                                    <option value="3 steakhouse">3 Steakhouse</option>
                                    <option value="4 steakhouse">4 Steakhouse</option>
                                    <option value="5 steakhouse">5 Steakhouse</option> --}} --}}
                                    @foreach($categoryLevel as $value) 
                                        <option value='343'>asfasf</option>
                                    @endforeach
                                </select>

                            </div>
                        </div>    
                        {{-- <label>Applicable Items</label>
                        <div class=" input-group ">
                            
                            <input id="tags" value="{{isset($data['applicable_categories']) && !empty($data['applicable_categories']) ? $data['applicable_categories'] : ""}}" name="applicable_categories" />
                        </div> --}}
                    </div>

                </div>
                <div class="cross-sell-up-border-bottom w-full"></div>
                <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
                    <h5 class="m-b-10">Status</h5>
                    <p class="m-b-20">You can change the status of your discount.</p>
                    <div class="radio-box">
                        <div class="form-group m-b-10">
                            <input type="radio" class="classic" name="status" data-sid="Available" id="status_available"
                                value="1" checked>
                            <label for="status_available">Available</label>
                        </div>
                        <div class="form-group m-b-10">
                            <input type="radio" class="classic" name="status" data-sid="Not Available"
                                id="status_not_available" value="0"
                                @if (isset($data['status']) && $data['status'] == 0) checked @endif
                                >
                            <label for="status_not_available">Not Available</label>
                        </div>
                    </div>
                </div>
                <div class="cross-sell-up-border-bottom w-full"></div>
                <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
                    <h5 class="m-b-10">Combine Settings</h5>
                    <p class="m-b-30">You can decide if your customers can combine this discount with others.
                    </p>
                    <div>
                        <div class="form-group m-b-20">
                            <input type="radio" class="classic" data-sid="User can combine this discount with other"
                                name="can_be_combine" id="setting_4" checked value="1">
                            <label for="setting_4">User <b>can</b> combine this discount with other
                                discounts</label>
                        </div>
                        <div class="form-group m-b-20">
                            <input type="radio" class="classic" data-sid="User can’t combine this discount with other"
                                name="can_be_combine" id="setting_5" 
                                @if (isset($data['can_be_combine']) && $data['can_be_combine'] == 0) checked @endif
                                value="0">
                            <label for="setting_5">User <b>can’t</b> combine this discount with other
                                discounts</label>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="modal-footer">
        <button type="button" class="btn btn-rounded btn-outline modal-close">CANCEL</button>
        <button type="button" class="btn btn-rounded btn-success" onclick="getExtraSettingValue()">SAVE</button>
    </div>
</div>
<script>
    $('#tags').tagsInput({
        'height': '65px',
        'width': '400px'
    });
// setTimeout()
$(document).ready(function() {
    // $('#my-select').multiSelect();
setTimeout(() =>{
    pureScriptSelect('#multiSelect');
    // pureScriptSelect('#selectIcon');
},1000)
});
</script>

